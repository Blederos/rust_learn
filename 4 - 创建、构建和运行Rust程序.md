## 3.4 - 创建、构建和运行Rust程序

### 一、安装 Rust
- **1. 下载安装包**
  - 去 Rust 的官方网站。
  - 根据你的电脑系统（比如文档里用的 Windows 64位），下载对应的安装程序。
- **2. 开始安装**
  - 双击运行下载好的程序。
  - 在安装选项中，输入 `1` 并回车，选择默认安装方式。
- **3. 等待安装**
  - 安装程序会自动下载并安装一系列必要的组件，比如：
    - **标准库**：Rust 自带的常用工具包。
    - **Cargo**：Rust 的包管理器和构建工具，非常重要。
    - **编译器 (rustc)**：负责把 Rust 代码变成电脑能懂的程序。
  - 看到提示后，按回车键，安装完成。
- **4. 验证安装**
  - 打开命令提示符（终端）。
  - 输入 `cargo --version` 并回车。
  - 如果看到显示出版本号，就说明 Rust 和 Cargo 都安装成功了！

### 二、创建第一个 Rust 项目
- **1. 创建工作空间**
  - 打开终端。
  - 创建一个文件夹，用来存放以后所有的 Rust 项目，例如取名 `rust_projects`。
  - 进入这个文件夹：`cd rust_projects`。
- **2. 使用 Cargo 创建项目**
  - 输入命令：`cargo new hello_world`。
  - 这个命令会创建一个名为 `hello_world` 的新项目文件夹。
  - 项目里已经自动生成了一些初始文件。
- **3. 认识 Cargo**
  - **Cargo 是什么？**
    - 它是 Rust 的官方“包管理器”和“构建工具”。其他语言也有类似的，比如 JavaScript 的 npm，Python 的 pip。
  - **Cargo 能做什么？**
    - **管理依赖**：如果你的项目需要用别人写的代码库，Cargo 可以帮你轻松下载和管理。
    - **构建代码**：把你写的代码编译成可执行文件。
    - **运行代码**：一键运行你的程序。
    - **发布项目**：可以把你写好的工具库分享给别人用。
  - **简单来说**：Cargo 就像一个全能助理，帮你处理开发过程中的各种杂事，让你更专注于写代码本身。

### 三、项目结构探秘
- **1. 主要文件和文件夹**
  - 进入项目：`cd hello_world`。
  - 输入列出文件的命令（Windows 用 `dir`，Mac/Linux 用 `ls`），你会看到：
    - **src 文件夹**：你的所有 Rust 源代码都将放在这里。
    - **Cargo.toml 文件**：项目的配置文件，记录了项目名称、版本和依赖等信息。
- **2. 源代码文件 `main.rs`**
  - 进入 `src` 文件夹，你会看到 `main.rs` 文件，这是 Rust 自动生成的。
  - 用 VS Code 打开项目（在项目目录下输入 `code .`）。
  - **什么是 `main.rs`？**
    - 它是一个 Rust 源文件，也是你程序的**入口点**。
    - 这个项目被称作**二进制 crate**，意思是它最终会被编译成一个可以直接运行的可执行文件（.exe 文件）。
- **3. 解析代码**
  - 代码内容：
      ```rust
      fn main() {
          println!("Hello, world!");
      }
      ```
  - **逐词解释：**
    - `fn`：用来声明一个函数的关键字。
    - `main`：函数的名字，这是一个特殊的函数，每个可执行程序都从这里开始运行。
    - `()`：放在函数名后面，用来放参数，这里没有参数所以是空的。
    - `{}`：花括号，里面包裹的是函数要执行的代码。
    - `println!`：这是一个 Rust **宏**，不是普通的函数（宏后面会跟一个 `!`）。它的作用是把括号里的内容打印到屏幕上，并且**自动换行**。
    - `"Hello, world!"`：要打印的文本。
    - `;`：分号，表示一条语句的结束。在 Rust 里，大多数语句结尾都要加分号。

### 四、缩进的小建议
- **不是强制，但是好习惯**
  - Rust 不像 Python，缩进不是强制的，代码块用 `{}` 来区分。
  - 但为了代码清晰易读，**强烈建议使用 4 个空格**作为缩进。
- **如何设置？**
  - **Notepad++**：可以在设置里，把“制表符（Tab）”替换为 4 个空格。
  - **VS Code**：在设置里搜索 `tab size` 可以调整大小，搜索 `insert spaces` 可以确保按 Tab 键时输入的是空格而不是制表符。

### 五、构建和运行项目
- **方法一：使用 Cargo 命令**
  - 在项目目录 `hello_world` 下，打开终端。
  - **`cargo build`**：只构建项目，生成可执行文件。文件会放在 `target/debug/` 文件夹里。
  - **`cargo run`**：构建并运行项目。这是最常用的命令。
  - **`cargo build --release`**：以“发布模式”构建，会进行优化，让程序跑得更快，生成的文件在 `target/release/` 里。适合做最终版本时使用。
- **方法二：在 VS Code 里运行**
  - **1. 使用终端**：直接在 VS Code 里打开终端，输入 `cargo run`。
  - **2. 安装扩展 - Code Runner**
    - 在 VS Code 扩展商店搜索并安装 `Code Runner`。
    - 安装后，代码右上角会出现一个“播放”按钮，点击即可直接运行。非常方便。
  - **3. 安装扩展 - rust-analyzer**
    - 在 VS Code 扩展商店搜索并安装 `rust-analyzer`。
    - 这是 Rust 官方推荐的核心扩展，能提供代码补全、错误提示、跳转定义等强大功能。安装后，代码上方也会出现“Run”按钮，点击即可运行。

### 六、下一讲预告
- 我们认识了 `println!` 宏，下一讲会继续探索 `println!` 的其他用法，学习如何打印变量、进行格式化输出等。